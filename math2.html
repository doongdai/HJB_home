<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ì‘í’ˆ5 - ìˆ˜ë†€ì´2</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh; /* í™”ë©´ ë†’ì´ë§Œí¼ */
            flex-direction: column;
            font-family: 'Comic Sans MS', sans-serif;
            margin: 0;
            padding: 0;
            position: relative;
        }

        .bg-overlay {
            background-image: url('images/rocket.png'); /* ì´ë¯¸ì§€ ê²½ë¡œ í™•ì¸ */
            background-size: cover;
            background-position: center;
            opacity: 0.8;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        body * {
            color: red; /* ê¸°ë³¸ ê¸€ììƒ‰, í•„ìš”ì— ë”°ë¼ ê°œë³„ ìš”ì†Œì— ì„¤ì • */
        }

        section {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        label, input {
            font-size: 2rem;
            margin: 10px;
        }

        input[type="number"] {
            width: 120px;
            height: 60px;
            font-size: 2rem;
            text-align: center;
            border-radius: 12px;
            border: 3px solid #888;
        }

        button {
            font-size: 2rem;
            padding: 15px 30px;
            margin: 10px;
            border: none;
            border-radius: 15px;
            background-color: blue;
            color: white;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            background-color: #ff7f00;
            transform: scale(1.05);
        }

        #result {
            font-size: 2.2rem;
            font-weight: bold;
            color: navy;
            margin-top: 20px;
        }

        .quiz-area {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 30px;
            display: inline-block;
        }

        /* íŒì—…ì°½ ìŠ¤íƒ€ì¼ */
        .popup-overlay {
            display: none; /* ê¸°ë³¸ì ìœ¼ë¡œ ìˆ¨ê¹€ */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* background: rgba(0, 0, 0, 0.1); /* ì„ íƒ ì‚¬í•­: ë°°ê²½ì„ ì•½ê°„ ì–´ë‘¡ê²Œ í•˜ê³  ì‹¶ì„ ë•Œ */
            pointer-events: none; /* ì´ ë¶€ë¶„ì´ ì¤‘ìš”! ì˜¤ë²„ë ˆì´ëŠ” í´ë¦­ ì´ë²¤íŠ¸ë¥¼ í†µê³¼ì‹œí‚µë‹ˆë‹¤. */
            z-index: 1000;
        }

        .popup-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 90%;
            max-height: 90%;
            overflow-y: auto;
            position: absolute; /* ì ˆëŒ€ ìœ„ì¹˜ ì‚¬ìš© */
            top: 20px; /* ìœ„ì—ì„œ 20px ë–¨ì–´ì§„ ìœ„ì¹˜ */
            right: 20px; /* ì˜¤ë¥¸ìª½ì—ì„œ 20px ë–¨ì–´ì§„ ìœ„ì¹˜ */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); /* ê·¸ë¦¼ì ì¶”ê°€ë¡œ ì…ì²´ê° ë¶€ì—¬ */
            display: flex; /* ë‚´ë¶€ ìš”ì†Œ ì •ë ¬ì„ ìœ„í•´ flex ì‚¬ìš© */
            flex-direction: column; /* ì„¸ë¡œ ì •ë ¬ */
            justify-content: space-between; /* ë‚´ìš©ê³¼ ë²„íŠ¼ì„ ìœ„ì•„ë˜ë¡œ ë¶„ë¦¬ */
            align-items: center; /* ê°€ìš´ë° ì •ë ¬ */
            gap: 15px; /* ì´ë¯¸ì§€ì™€ ë²„íŠ¼ ì‚¬ì´ ê°„ê²© */
            pointer-events: auto; /* íŒì—… ì½˜í…ì¸  ìì²´ëŠ” í´ë¦­ì— ë°˜ì‘í•´ì•¼ í•˜ë¯€ë¡œ autoë¡œ ì„¤ì • */
        }

        .popup-content img {
            width: 100px; /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
            height: 100px; /* ì´ë¯¸ì§€ í¬ê¸° ì¡°ì ˆ */
            margin: 5px; /* ì´ë¯¸ì§€ ê°„ê²© ì¡°ì ˆ */
            object-fit: contain;
        }

        /* ìƒˆë¡œ ì¶”ê°€ëœ X ë‹«ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (íŒì—…ì°½ ì•ˆì— ìœ„ì¹˜) */
        .close-x-button {
            position: absolute; /* íŒì—… ì½˜í…ì¸  ë‚´ì—ì„œ ì ˆëŒ€ ìœ„ì¹˜ */
            top: 10px; /* íŒì—… ìƒë‹¨ì—ì„œ 10px ë–¨ì–´ì§ */
            right: 15px; /* íŒì—… ì˜¤ë¥¸ìª½ì—ì„œ 15px ë–¨ì–´ì§ */
            font-size: 2.5rem; /* X ì•„ì´ì½˜ í¬ê¸° */
            color: #999; /* ìƒ‰ìƒ */
            cursor: pointer;
            background: none; /* ë°°ê²½ ì—†ìŒ */
            border: none; /* í…Œë‘ë¦¬ ì—†ìŒ */
            padding: 0; /* íŒ¨ë”© ì—†ìŒ */
            line-height: 1; /* ì¤„ ë†’ì´ */
            transition: color 0.2s;
        }

        .close-x-button:hover {
            color: #333; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
        }

        /* ê¸°ì¡´ "ì°½ ë‹«ê¸°" ë²„íŠ¼ ìŠ¤íƒ€ì¼ (íŒì—…ì°½ ì•„ë˜ ìœ„ì¹˜) */
        .close-button-bottom {
            font-size: 1.0rem; /* ë²„íŠ¼ í°íŠ¸ í¬ê¸° */
            padding: 5px 10px;
            border: none;
            border-radius: 10px;
            background-color: #f44336; /* ë¹¨ê°„ìƒ‰ ê³„ì—´ */
            color: white;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s;
        }

        .close-button-bottom:hover {
            background-color: #d32f2f; /* í˜¸ë²„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="bg-overlay"></div>
    <div class="quiz-area">
        <h2>ğŸ¨ ì‘í’ˆ5(0 ë¶€í„° 9 ê¹Œì§€ ìˆ˜ ìµíˆëŠ” ìˆ˜ë†€ì´)</h2>

        <h3>ğŸ”¢ ì‚¬ìš©í•´ë³´ê¸°</h3>
        <p>ë²„íŠ¼ì„ ëˆŒëŸ¬ ë”¸ê¸°ë‚˜ ì¿ í‚¤ë¥¼ í™•ì¸í•˜ê³  ê°œìˆ˜ë¥¼ ì…ë ¥í•´ ë³´ì„¸ìš”.</p>

        <button onclick="showCountingPopup()">ëˆŒëŸ¬ì£¼ì„¸ìš”</button><br>
        <label>ë”¸ê¸°ë‚˜ ì¿ í‚¤ê°€ ëª‡ ê°œì¼ê¹Œìš”?: <input type="number" id="answer" min="0" max="9"></label><br>
        <button onclick="checkAnswer()">ê²°ê³¼ í™•ì¸</button>
        <button onclick="resetQuiz()">ì²˜ìŒìœ¼ë¡œ</button>

        <p id="result" style="font-weight: bold; color: navy;"></p>

        <audio id="correctSound" src="sounds/correct.mp3"></audio>
        <audio id="wrongSound" src="sounds/wrong.mp3"></audio>
    </div>

    <div class="popup-overlay" id="countingPopupOverlay">
        <div class="popup-content">
            <button class="close-x-button" onclick="hideCountingPopup()">&times;</button>
            <p style="font-size: 2.5rem; color: #333; font-weight: bold;">ëª‡ ê°œì¸ì§€ ì„¸ì–´ë³´ì„¸ìš”!</p>
            <div id="imageContainer" style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center;">
                </div>
            <button class="close-button-bottom" onclick="hideCountingPopup()">ì°½ ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        let correctCount = 0; // ëœë¤ìœ¼ë¡œ ìƒì„±ëœ ê°œìˆ˜ë¥¼ ì €ì¥í•  ë³€ìˆ˜

        function showCountingPopup() {
            const popupOverlay = document.getElementById("countingPopupOverlay");
            const imageContainer = document.getElementById("imageContainer");
            imageContainer.innerHTML = ''; // ì´ì „ ì´ë¯¸ì§€ë“¤ ì´ˆê¸°í™”

            // 0ì—ì„œ 9 ì‚¬ì´ì˜ ëœë¤ ìˆ«ì ìƒì„±
            correctCount = Math.floor(Math.random() * 10);

            // ë”¸ê¸° ë˜ëŠ” ì¿ í‚¤ ì´ë¯¸ì§€ë¥¼ ëœë¤ìœ¼ë¡œ ì„ íƒ
            const imagePath = Math.random() < 0.5 ? 'images/strawberry3.jpg' : 'images/cookie.jpg'; // ì´ë¯¸ì§€ ê²½ë¡œ í™•ì¸

            for (let i = 0; i < correctCount; i++) {
                const img = document.createElement('img');
                img.src = imagePath;
                img.alt = 'ì„¸ëŠ” ëŒ€ìƒ';
                imageContainer.appendChild(img);
            }

            popupOverlay.style.display = 'flex'; // íŒì—…ì°½ í‘œì‹œ
        }

        function hideCountingPopup() {
            document.getElementById("countingPopupOverlay").style.display = 'none'; // íŒì—…ì°½ ìˆ¨ê¹€
        }

        function checkAnswer() {
            const userAnswer = parseInt(document.getElementById("answer").value);
            const result = document.getElementById("result");

            const correctSound = document.getElementById("correctSound");
            const wrongSound = document.getElementById("wrongSound");

            if (isNaN(userAnswer) || userAnswer < 0 || userAnswer > 9) {
                result.innerText = "â— ìˆ«ìë¥¼ 0~9 ì‚¬ì´ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”!";
                return;
            }

            if (userAnswer === correctCount) {
                result.innerText = "ğŸ‰ ì •ë‹µì´ì—ìš”! ì˜í–ˆì–´ìš”!";
                correctSound.pause();
                correctSound.currentTime = 0;
                correctSound.play();
            } else {
                result.innerText = `ğŸ˜¢ í‹€ë ¸ì–´ìš”! ì •ë‹µì€ ${correctCount} ê°œì˜ˆìš”!`;
                wrongSound.pause();
                wrongSound.currentTime = 0;
                wrongSound.play();
            }
        }

        function resetQuiz() {
            document.getElementById("answer").value = "";
            document.getElementById("result").innerText = "";
            document.getElementById("imageContainer").innerHTML = ''; // íŒì—…ì°½ ì´ë¯¸ì§€ ì´ˆê¸°í™”
            hideCountingPopup(); // íŒì—…ì°½ ìˆ¨ê¹€ í™•ì¸
            
            document.getElementById("correctSound").pause();
            document.getElementById("correctSound").currentTime = 0;
            document.getElementById("wrongSound").pause();
            document.getElementById("wrongSound").currentTime = 0;
        }
    </script>
</body>
</html>